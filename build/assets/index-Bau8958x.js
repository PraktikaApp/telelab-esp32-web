import{b as m,r as c,j as s,B as f,t as i}from"./index-C7xtxVXi.js";import{a as d}from"./axios-CoTZsgdJ.js";/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=m("CirclePower",[["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M7.998 9.003a5 5 0 1 0 8-.005",key:"1pek45"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function w(){const[o,x]=c.useState([0,0,0,0,0,0,0,0]),[r,p]=c.useState(null);c.useEffect(()=>{const t=()=>{d.get("/input/all").then(a=>{const{input:n}=a.data;console.log("Inputs:",n),p(n)}).catch(a=>{console.error("Error fetching inputs:",a)})},e=setInterval(t,2e3);return t(),()=>clearInterval(e)},[]);const u=t=>{const e=o[t]===1?"off":"on";d({method:"post",url:"/output/relay/"+t,data:"state="+e,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(a=>{console.log("Relay",t,"response:",a.data),x(n=>{const l=[...n];return l[t]=l[t]===1?0:1,l}),i({title:"Relay status updated",description:`Relay ${t+1} status updated`})}).catch(a=>{console.error("Relay",t,"error:",a),i({variant:"destructive",title:"Error updating relay status"})})};return s.jsxs("div",{className:"flex flex-col items-center justify-center text-center min-h-screen md:h-screen overflow-y-auto mb-10 md:mb-0",children:[s.jsx("h1",{className:"text-3xl font-semibold md:text-5xl",children:"Modul IO Tester"}),s.jsx("p",{className:"text-xl text-muted-foreground md:text-2xl",children:"Praktika APP"}),s.jsx("div",{className:"mt-8 flex h-fit flex-wrap items-center justify-center gap-5 text-sm px-10",children:o.map((t,e)=>s.jsxs(f,{className:"w-full md:w-1/3",variant:t===1?"default":"secondary",onClick:()=>u(e),children:[s.jsx(h,{className:"mr-2 h-4 w-4"})," Relay ",e+1," (",t?"ON":"OFF",")"]},e))}),s.jsx("div",{className:"mt-10 flex h-fit flex-wrap items-center justify-center gap-5 text-sm px-10 mb-20",children:r&&r.length===8?r.map((t,e)=>s.jsx("div",{className:`w-20 h-20 flex items-center justify-center rounded-full text-white text-xl font-bold ${t===1?"bg-green-500":"bg-red-500"}`,children:e+1},e)):s.jsx("p",{className:"text-gray-500 text-lg",children:"Loading..."})})]})}export{w as default};
