import{r as c,j as e,c as i,e as R,B as b}from"./index-C7xtxVXi.js";import{C as S}from"./card-B2eaxgHm.js";const h=c.forwardRef(({className:s,...r},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:i("w-full caption-bottom text-sm",s),...r})}));h.displayName="Table";const f=c.forwardRef(({className:s,...r},a)=>e.jsx("thead",{ref:a,className:i("[&_tr]:border-b",s),...r}));f.displayName="TableHeader";const y=c.forwardRef(({className:s,...r},a)=>e.jsx("tbody",{ref:a,className:i("[&_tr:last-child]:border-0",s),...r}));y.displayName="TableBody";const k=c.forwardRef(({className:s,...r},a)=>e.jsx("tfoot",{ref:a,className:i("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r}));k.displayName="TableFooter";const d=c.forwardRef(({className:s,...r},a)=>e.jsx("tr",{ref:a,className:i("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r}));d.displayName="TableRow";const m=c.forwardRef(({className:s,...r},a)=>e.jsx("th",{ref:a,className:i("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r}));m.displayName="TableHead";const u=c.forwardRef(({className:s,...r},a)=>e.jsx("td",{ref:a,className:i("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r}));u.displayName="TableCell";const $=c.forwardRef(({className:s,...r},a)=>e.jsx("caption",{ref:a,className:i("mt-4 text-sm text-muted-foreground",s),...r}));$.displayName="TableCaption";const U=()=>{const a=R(),N=()=>{const o=new URLSearchParams(a.search),t=o.get("module")||"",l=o.get("experiment")||"";return{module:t,experiment:l}},{module:j,experiment:g}=N(),x=(o=>{const t=[],l=2**o;for(let n=0;n<l;n++){const C=n.toString(2).padStart(o,"0");t.push(C.split(""))}return t})(4),T=o=>{const t=o.reduce((l,n)=>l+Number(n),0);return[t%2,t%3]},p=x.map(o=>T(o)),w=async()=>{const o=localStorage.getItem("token");if(!o){alert("Token not found in local storage!");return}const t={module:j,experiment:g,inputs:x,outputs:p};try{(await fetch("/api/submit-truth-table",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(t)})).ok?alert("Truth table submitted successfully!"):alert("Failed to submit truth table.")}catch(l){console.error("Error submitting truth table:",l),alert("An error occurred while submitting the truth table.")}};return e.jsxs("div",{className:"p-4 py-20",children:[e.jsx("h1",{className:"font-bold mb-4 text-center md:text-3xl text-xl",children:"Truth Table"}),e.jsx(S,{className:"max-w-lg p-0 mx-auto",children:e.jsxs(h,{children:[e.jsxs(f,{children:[e.jsxs(d,{className:"text-center",children:[e.jsx(m,{colSpan:4,className:"text-xs px-1 py-1 font-bold text-center",children:"INPUT"}),e.jsx(m,{colSpan:2,className:"text-xs px-1 py-1 font-bold text-center",children:"OUTPUT"})]}),e.jsxs(d,{className:"text-center 0",children:[Array.from({length:4},(o,t)=>e.jsx(m,{className:"text-xs px-1 py-1 text-center",children:String.fromCharCode(97+t)},`input-header-${t}`)),Array.from({length:2},(o,t)=>e.jsx(m,{className:"text-xs px-1 py-1 text-center",children:String.fromCharCode(112+t)},`output-header-${t}`))]})]}),e.jsx(y,{children:x.map((o,t)=>e.jsxs(d,{className:"text-center text-xs",children:[o.map((l,n)=>e.jsx(u,{className:"px-1 py-1 text-xs",style:{width:"30px"},children:l},`input-cell-${t}-${n}`)),p[t].map((l,n)=>e.jsx(u,{className:"px-1 py-1 text-xs ",style:{width:"30px"},children:l},`output-cell-${t}-${n}`))]},`row-${t}`))})]})}),e.jsxs("div",{className:"flex justify-center gap-5 mx-auto max-w-lg mb-20 md:mb-0",children:[e.jsx(b,{onClick:w,className:"mt-4 w-full",children:"Submit"}),e.jsx(b,{variant:"secondary",className:"mt-4 w-full",children:"Ulangi"})]})]})};export{U as default};
